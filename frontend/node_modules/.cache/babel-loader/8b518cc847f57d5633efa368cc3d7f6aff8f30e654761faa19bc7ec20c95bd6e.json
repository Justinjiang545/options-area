{"ast":null,"code":"var _jsxFileName = \"/Users/justinjiang/Documents/GitHub/stuff/frontend/src/components/black-scholes/BlackScholesCalculator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { blackScholesApi } from '../../services/api';\nimport InputForm from './InputForm';\nimport ResultsDisplay from './ResultsDisplay';\nimport SensitivityChart from './SensitivityChart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n_c = Container;\nconst Title = styled.h1`\n  margin-bottom: 1.5rem;\n  color: #333;\n`;\n_c2 = Title;\nconst GridLayout = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  \n  @media (max-width: 992px) {\n    grid-template-columns: 1fr;\n  }\n`;\n_c3 = GridLayout;\nconst BlackScholesCalculator = () => {\n  _s();\n  // Default input values\n  const defaultInputs = {\n    stock_price: 100,\n    strike_price: 100,\n    time_to_expiry: 30,\n    risk_free_rate: 0.05,\n    volatility: 0.2,\n    option_type: 'call',\n    time_in_days: true\n  };\n\n  // State management\n  const [inputs, setInputs] = useState(defaultInputs);\n  const [results, setResults] = useState(null);\n  const [greeks, setGreeks] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedSensitivity, setSelectedSensitivity] = useState('stock_price');\n  const [sensitivityData, setSensitivityData] = useState(null);\n\n  // Calculate option price when inputs change\n  useEffect(() => {\n    calculateOptionPrice();\n  }, [inputs]);\n\n  // Calculate option price\n  const calculateOptionPrice = async () => {\n    try {\n      setIsLoading(true);\n\n      // Get option price\n      const priceResponse = await blackScholesApi.calculateOptionPrice(inputs);\n      setResults(priceResponse);\n\n      // Get Greeks\n      const greeksResponse = await blackScholesApi.calculateGreeks(inputs);\n      setGreeks(greeksResponse);\n\n      // Generate sensitivity data for the currently selected variable\n      generateSensitivityData();\n    } catch (error) {\n      console.error('Error in Black-Scholes calculation:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle input changes\n  const handleInputChange = (name, value) => {\n    setInputs({\n      ...inputs,\n      [name]: value\n    });\n  };\n\n  // Generate sensitivity analysis data\n  const generateSensitivityData = async () => {\n    try {\n      let rangeMin, rangeMax;\n\n      // Set appropriate ranges based on the selected sensitivity variable\n      switch (selectedSensitivity) {\n        case 'stock_price':\n          rangeMin = inputs.stock_price * 0.7;\n          rangeMax = inputs.stock_price * 1.3;\n          break;\n        case 'strike_price':\n          rangeMin = inputs.strike_price * 0.7;\n          rangeMax = inputs.strike_price * 1.3;\n          break;\n        case 'time_to_expiry':\n          rangeMin = 1;\n          rangeMax = inputs.time_in_days ? 365 : 1;\n          break;\n        case 'risk_free_rate':\n          rangeMin = 0.01;\n          rangeMax = 0.1;\n          break;\n        case 'volatility':\n          rangeMin = 0.05;\n          rangeMax = 0.5;\n          break;\n        default:\n          rangeMin = inputs.stock_price * 0.7;\n          rangeMax = inputs.stock_price * 1.3;\n      }\n      const data = await blackScholesApi.generateSensitivityData(inputs, selectedSensitivity, rangeMin, rangeMax, 20);\n      setSensitivityData(data);\n    } catch (error) {\n      console.error('Error generating sensitivity data:', error);\n    }\n  };\n\n  // Handle sensitivity variable change\n  const handleSensitivityChange = variable => {\n    setSelectedSensitivity(variable);\n    // Recalculate sensitivity data when the variable changes\n    setTimeout(generateSensitivityData, 0);\n  };\n\n  // Reset inputs to defaults\n  const handleReset = () => {\n    setInputs(defaultInputs);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Black-Scholes Options Pricing Calculator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GridLayout, {\n      children: [/*#__PURE__*/_jsxDEV(InputForm, {\n        inputs: inputs,\n        onInputChange: handleInputChange,\n        onReset: handleReset,\n        isLoading: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResultsDisplay, {\n        results: results,\n        greeks: greeks,\n        optionType: inputs.option_type,\n        isLoading: isLoading,\n        onSensitivityChange: handleSensitivityChange,\n        selectedSensitivity: selectedSensitivity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SensitivityChart, {\n      data: sensitivityData,\n      variable: selectedSensitivity,\n      optionType: inputs.option_type,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(BlackScholesCalculator, \"Rr5O01/4OLunDr+HJEKJS7wl148=\");\n_c4 = BlackScholesCalculator;\nexport default BlackScholesCalculator;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"GridLayout\");\n$RefreshReg$(_c4, \"BlackScholesCalculator\");","map":{"version":3,"names":["React","useState","useEffect","styled","blackScholesApi","InputForm","ResultsDisplay","SensitivityChart","jsxDEV","_jsxDEV","Container","div","_c","Title","h1","_c2","GridLayout","_c3","BlackScholesCalculator","_s","defaultInputs","stock_price","strike_price","time_to_expiry","risk_free_rate","volatility","option_type","time_in_days","inputs","setInputs","results","setResults","greeks","setGreeks","isLoading","setIsLoading","selectedSensitivity","setSelectedSensitivity","sensitivityData","setSensitivityData","calculateOptionPrice","priceResponse","greeksResponse","calculateGreeks","generateSensitivityData","error","console","handleInputChange","name","value","rangeMin","rangeMax","data","handleSensitivityChange","variable","setTimeout","handleReset","children","fileName","_jsxFileName","lineNumber","columnNumber","onInputChange","onReset","optionType","onSensitivityChange","_c4","$RefreshReg$"],"sources":["/Users/justinjiang/Documents/GitHub/stuff/frontend/src/components/black-scholes/BlackScholesCalculator.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { blackScholesApi } from '../../services/api';\nimport InputForm from './InputForm';\nimport ResultsDisplay from './ResultsDisplay';\nimport SensitivityChart from './SensitivityChart';\n\nconst Container = styled.div`\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n\nconst Title = styled.h1`\n  margin-bottom: 1.5rem;\n  color: #333;\n`;\n\nconst GridLayout = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  \n  @media (max-width: 992px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst BlackScholesCalculator = () => {\n  // Default input values\n  const defaultInputs = {\n    stock_price: 100,\n    strike_price: 100,\n    time_to_expiry: 30,\n    risk_free_rate: 0.05,\n    volatility: 0.2,\n    option_type: 'call',\n    time_in_days: true\n  };\n  \n  // State management\n  const [inputs, setInputs] = useState(defaultInputs);\n  const [results, setResults] = useState(null);\n  const [greeks, setGreeks] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedSensitivity, setSelectedSensitivity] = useState('stock_price');\n  const [sensitivityData, setSensitivityData] = useState(null);\n  \n  // Calculate option price when inputs change\n  useEffect(() => {\n    calculateOptionPrice();\n  }, [inputs]);\n  \n  // Calculate option price\n  const calculateOptionPrice = async () => {\n    try {\n      setIsLoading(true);\n      \n      // Get option price\n      const priceResponse = await blackScholesApi.calculateOptionPrice(inputs);\n      setResults(priceResponse);\n      \n      // Get Greeks\n      const greeksResponse = await blackScholesApi.calculateGreeks(inputs);\n      setGreeks(greeksResponse);\n      \n      // Generate sensitivity data for the currently selected variable\n      generateSensitivityData();\n    } catch (error) {\n      console.error('Error in Black-Scholes calculation:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // Handle input changes\n  const handleInputChange = (name, value) => {\n    setInputs({\n      ...inputs,\n      [name]: value\n    });\n  };\n  \n  // Generate sensitivity analysis data\n  const generateSensitivityData = async () => {\n    try {\n      let rangeMin, rangeMax;\n      \n      // Set appropriate ranges based on the selected sensitivity variable\n      switch (selectedSensitivity) {\n        case 'stock_price':\n          rangeMin = inputs.stock_price * 0.7;\n          rangeMax = inputs.stock_price * 1.3;\n          break;\n        case 'strike_price':\n          rangeMin = inputs.strike_price * 0.7;\n          rangeMax = inputs.strike_price * 1.3;\n          break;\n        case 'time_to_expiry':\n          rangeMin = 1;\n          rangeMax = inputs.time_in_days ? 365 : 1;\n          break;\n        case 'risk_free_rate':\n          rangeMin = 0.01;\n          rangeMax = 0.1;\n          break;\n        case 'volatility':\n          rangeMin = 0.05;\n          rangeMax = 0.5;\n          break;\n        default:\n          rangeMin = inputs.stock_price * 0.7;\n          rangeMax = inputs.stock_price * 1.3;\n      }\n      \n      const data = await blackScholesApi.generateSensitivityData(\n        inputs,\n        selectedSensitivity,\n        rangeMin,\n        rangeMax,\n        20\n      );\n      \n      setSensitivityData(data);\n    } catch (error) {\n      console.error('Error generating sensitivity data:', error);\n    }\n  };\n  \n  // Handle sensitivity variable change\n  const handleSensitivityChange = (variable) => {\n    setSelectedSensitivity(variable);\n    // Recalculate sensitivity data when the variable changes\n    setTimeout(generateSensitivityData, 0);\n  };\n  \n  // Reset inputs to defaults\n  const handleReset = () => {\n    setInputs(defaultInputs);\n  };\n  \n  return (\n    <Container>\n      <Title>Black-Scholes Options Pricing Calculator</Title>\n      \n      <GridLayout>\n        <InputForm\n          inputs={inputs}\n          onInputChange={handleInputChange}\n          onReset={handleReset}\n          isLoading={isLoading}\n        />\n        \n        <ResultsDisplay\n          results={results}\n          greeks={greeks}\n          optionType={inputs.option_type}\n          isLoading={isLoading}\n          onSensitivityChange={handleSensitivityChange}\n          selectedSensitivity={selectedSensitivity}\n        />\n      </GridLayout>\n      \n      <SensitivityChart\n        data={sensitivityData}\n        variable={selectedSensitivity}\n        optionType={inputs.option_type}\n        isLoading={isLoading}\n      />\n    </Container>\n  );\n};\n\nexport default BlackScholesCalculator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}